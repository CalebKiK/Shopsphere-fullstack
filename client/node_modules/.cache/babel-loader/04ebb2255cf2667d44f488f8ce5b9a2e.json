{"ast":null,"code":"var _jsxFileName = \"/home/philip-osir/Desktop/GroupThree_FrontandBack/Group-3-end-Phase_2-Project-/shopsphere_e_commerce_website/src/components/ProductList.js\";\nimport React, { useEffect, useState } from 'react';\nimport './ProductList.css';\nconst ProductList = ({\n  onAddToCart\n}) => {\n  // Accept onAddToCart as a prop\n  const [items, setItems] = useState([]);\n  const [error, setError] = useState(null); // State to handle errors\n\n  // Fetch items when the component mounts\n  useEffect(() => {\n    const fetchData = async () => {\n      try {\n        const response = await fetch('/items'); // Adjust the URL as needed\n        if (!response.ok) {\n          throw new Error(`HTTP error! Status: ${response.status}`);\n        }\n        const data = await response.json();\n        setItems(data);\n      } catch (error) {\n        console.error('Error fetching items:', error);\n        setError(error.message); // Update the error state\n      }\n    };\n    fetchData();\n  }, []);\n  if (error) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"error-message\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 16\n      }\n    }, \"Error: \", error); // Display error message if any\n  }\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"product-list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 32,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 33,\n      columnNumber: 13\n    }\n  }, \"Available Products\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"grid-container\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 13\n    }\n  }, items.length > 0 ? items.map(item => /*#__PURE__*/React.createElement(\"div\", {\n    key: item.id,\n    className: \"product-card\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image_url,\n    alt: item.item_name,\n    className: \"product-image\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 38,\n      columnNumber: 29\n    }\n  }), /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 39,\n      columnNumber: 29\n    }\n  }, item.item_name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 29\n    }\n  }, item.description || 'No description available.'), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 41,\n      columnNumber: 29\n    }\n  }, \"Price: ksh \", item.price), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 42,\n      columnNumber: 29\n    }\n  }, \"Available: \", item.items_available), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => onAddToCart(item),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 29\n    }\n  }, \"Add to Cart\"), \" \")) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }, \"No items available\") // Message when there are no items\n  ));\n};\nexport default ProductList;","map":{"version":3,"names":["React","useEffect","useState","ProductList","onAddToCart","items","setItems","error","setError","fetchData","response","fetch","ok","Error","status","data","json","console","message","createElement","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","length","map","item","key","id","src","image_url","alt","item_name","description","price","items_available","onClick"],"sources":["/home/philip-osir/Desktop/GroupThree_FrontandBack/Group-3-end-Phase_2-Project-/shopsphere_e_commerce_website/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './ProductList.css';\n\nconst ProductList = ({ onAddToCart }) => { // Accept onAddToCart as a prop\n    const [items, setItems] = useState([]);\n    const [error, setError] = useState(null); // State to handle errors\n\n    // Fetch items when the component mounts\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await fetch('/items'); // Adjust the URL as needed\n                if (!response.ok) {\n                    throw new Error(`HTTP error! Status: ${response.status}`);\n                }\n                const data = await response.json();\n                setItems(data);\n            } catch (error) {\n                console.error('Error fetching items:', error);\n                setError(error.message); // Update the error state\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    if (error) {\n        return <div className=\"error-message\">Error: {error}</div>; // Display error message if any\n    }\n\n    return (\n        <div className=\"product-list\">\n            <h2>Available Products</h2>\n            <div className=\"grid-container\">\n                {items.length > 0 ? (\n                    items.map(item => (\n                        <div key={item.id} className=\"product-card\">\n                            <img src={item.image_url} alt={item.item_name} className=\"product-image\" />\n                            <h3>{item.item_name}</h3>\n                            <p>{item.description || 'No description available.'}</p>\n                            <p>Price: ksh {item.price}</p>\n                            <p>Available: {item.items_available}</p>\n                            <button onClick={() => onAddToCart(item)}>Add to Cart</button> {/* Add item to cart */}\n                        </div>\n                    ))\n                ) : (\n                    <p>No items available</p> // Message when there are no items\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ProductList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}