{"ast":null,"code":"import React,{useEffect,useState}from'react';import'./ProductList.css';const ProductList=_ref=>{let{onAddToCart}=_ref;// Accept onAddToCart as a prop\nconst[items,setItems]=useState([]);const[error,setError]=useState(null);// State to handle errors\n// Fetch items when the component mounts\nuseEffect(()=>{const fetchData=async()=>{try{const response=await fetch('/items');// Adjust the URL as needed\nif(!response.ok){throw new Error(`HTTP error! Status: ${response.status}`);}const data=await response.json();setItems(data);}catch(error){console.error('Error fetching items:',error);setError(error.message);// Update the error state\n}};fetchData();},[]);if(error){return/*#__PURE__*/React.createElement(\"div\",{className:\"error-message\"},\"Error: \",error);// Display error message if any\n}return/*#__PURE__*/React.createElement(\"div\",{className:\"product-list\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Available Products\"),/*#__PURE__*/React.createElement(\"div\",{className:\"grid-container\"},items.length>0?items.map(item=>/*#__PURE__*/React.createElement(\"div\",{key:item.id,className:\"product-card\"},/*#__PURE__*/React.createElement(\"img\",{src:item.image_url,alt:item.item_name,className:\"product-image\"}),/*#__PURE__*/React.createElement(\"h3\",null,item.item_name),/*#__PURE__*/React.createElement(\"p\",null,item.description||'No description available.'),/*#__PURE__*/React.createElement(\"p\",null,\"Price: ksh \",item.price),/*#__PURE__*/React.createElement(\"p\",null,\"Available: \",item.items_available),/*#__PURE__*/React.createElement(\"button\",{onClick:()=>onAddToCart(item)},\"Add to Cart\"),\" \")):/*#__PURE__*/React.createElement(\"p\",null,\"No items available\")// Message when there are no items\n));};export default ProductList;","map":{"version":3,"names":["React","useEffect","useState","ProductList","_ref","onAddToCart","items","setItems","error","setError","fetchData","response","fetch","ok","Error","status","data","json","console","message","createElement","className","length","map","item","key","id","src","image_url","alt","item_name","description","price","items_available","onClick"],"sources":["/home/philip-osir/Desktop/GroupThree_FrontandBack/Group-3-end-Phase_2-Project-/shopsphere_e_commerce_website/src/components/ProductList.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport './ProductList.css';\n\nconst ProductList = ({ onAddToCart }) => { // Accept onAddToCart as a prop\n    const [items, setItems] = useState([]);\n    const [error, setError] = useState(null); // State to handle errors\n\n    // Fetch items when the component mounts\n    useEffect(() => {\n        const fetchData = async () => {\n            try {\n                const response = await fetch('/items'); // Adjust the URL as needed\n                if (!response.ok) {\n                    throw new Error(`HTTP error! Status: ${response.status}`);\n                }\n                const data = await response.json();\n                setItems(data);\n            } catch (error) {\n                console.error('Error fetching items:', error);\n                setError(error.message); // Update the error state\n            }\n        };\n\n        fetchData();\n    }, []);\n\n    if (error) {\n        return <div className=\"error-message\">Error: {error}</div>; // Display error message if any\n    }\n\n    return (\n        <div className=\"product-list\">\n            <h2>Available Products</h2>\n            <div className=\"grid-container\">\n                {items.length > 0 ? (\n                    items.map(item => (\n                        <div key={item.id} className=\"product-card\">\n                            <img src={item.image_url} alt={item.item_name} className=\"product-image\" />\n                            <h3>{item.item_name}</h3>\n                            <p>{item.description || 'No description available.'}</p>\n                            <p>Price: ksh {item.price}</p>\n                            <p>Available: {item.items_available}</p>\n                            <button onClick={() => onAddToCart(item)}>Add to Cart</button> {/* Add item to cart */}\n                        </div>\n                    ))\n                ) : (\n                    <p>No items available</p> // Message when there are no items\n                )}\n            </div>\n        </div>\n    );\n};\n\nexport default ProductList;\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,MAAO,mBAAmB,CAE1B,KAAM,CAAAC,WAAW,CAAGC,IAAA,EAAqB,IAApB,CAAEC,WAAY,CAAC,CAAAD,IAAA,CAAO;AACvC,KAAM,CAACE,KAAK,CAAEC,QAAQ,CAAC,CAAGL,QAAQ,CAAC,EAAE,CAAC,CACtC,KAAM,CAACM,KAAK,CAAEC,QAAQ,CAAC,CAAGP,QAAQ,CAAC,IAAI,CAAC,CAAE;AAE1C;AACAD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAS,SAAS,CAAG,KAAAA,CAAA,GAAY,CAC1B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAC,KAAK,CAAC,QAAQ,CAAC,CAAE;AACxC,GAAI,CAACD,QAAQ,CAACE,EAAE,CAAE,CACd,KAAM,IAAI,CAAAC,KAAK,CAAC,uBAAuBH,QAAQ,CAACI,MAAM,EAAE,CAAC,CAC7D,CACA,KAAM,CAAAC,IAAI,CAAG,KAAM,CAAAL,QAAQ,CAACM,IAAI,CAAC,CAAC,CAClCV,QAAQ,CAACS,IAAI,CAAC,CAClB,CAAE,MAAOR,KAAK,CAAE,CACZU,OAAO,CAACV,KAAK,CAAC,uBAAuB,CAAEA,KAAK,CAAC,CAC7CC,QAAQ,CAACD,KAAK,CAACW,OAAO,CAAC,CAAE;AAC7B,CACJ,CAAC,CAEDT,SAAS,CAAC,CAAC,CACf,CAAC,CAAE,EAAE,CAAC,CAEN,GAAIF,KAAK,CAAE,CACP,mBAAOR,KAAA,CAAAoB,aAAA,QAAKC,SAAS,CAAC,eAAe,EAAC,SAAO,CAACb,KAAW,CAAC,CAAE;AAChE,CAEA,mBACIR,KAAA,CAAAoB,aAAA,QAAKC,SAAS,CAAC,cAAc,eACzBrB,KAAA,CAAAoB,aAAA,WAAI,oBAAsB,CAAC,cAC3BpB,KAAA,CAAAoB,aAAA,QAAKC,SAAS,CAAC,gBAAgB,EAC1Bf,KAAK,CAACgB,MAAM,CAAG,CAAC,CACbhB,KAAK,CAACiB,GAAG,CAACC,IAAI,eACVxB,KAAA,CAAAoB,aAAA,QAAKK,GAAG,CAAED,IAAI,CAACE,EAAG,CAACL,SAAS,CAAC,cAAc,eACvCrB,KAAA,CAAAoB,aAAA,QAAKO,GAAG,CAAEH,IAAI,CAACI,SAAU,CAACC,GAAG,CAAEL,IAAI,CAACM,SAAU,CAACT,SAAS,CAAC,eAAe,CAAE,CAAC,cAC3ErB,KAAA,CAAAoB,aAAA,WAAKI,IAAI,CAACM,SAAc,CAAC,cACzB9B,KAAA,CAAAoB,aAAA,UAAII,IAAI,CAACO,WAAW,EAAI,2BAA+B,CAAC,cACxD/B,KAAA,CAAAoB,aAAA,UAAG,aAAW,CAACI,IAAI,CAACQ,KAAS,CAAC,cAC9BhC,KAAA,CAAAoB,aAAA,UAAG,aAAW,CAACI,IAAI,CAACS,eAAmB,CAAC,cACxCjC,KAAA,CAAAoB,aAAA,WAAQc,OAAO,CAAEA,CAAA,GAAM7B,WAAW,CAACmB,IAAI,CAAE,EAAC,aAAmB,CAAC,IAC7D,CACR,CAAC,cAEFxB,KAAA,CAAAoB,aAAA,UAAG,oBAAqB,CAAE;AAE7B,CACJ,CAAC,CAEd,CAAC,CAED,cAAe,CAAAjB,WAAW","ignoreList":[]},"metadata":{},"sourceType":"module"}