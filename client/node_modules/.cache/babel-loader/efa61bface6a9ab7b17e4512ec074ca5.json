{"ast":null,"code":"var _jsxFileName = \"/home/philip-osir/Desktop/GroupThree_FrontandBack/Group-3-end-Phase_2-Project-/shopsphere_e_commerce_website/src/components/Navbar.js\";\nimport React, { useState, useEffect } from \"react\";\nimport \"./Navbar.css\";\nimport searchIcon from \"./images/search-icon.png\";\nimport cartIcon from \"./images/cart-icon.png\";\nimport HelpModal from \"./HelpModal\";\nconst Navbar = ({\n  cart,\n  addToCart\n}) => {\n  // Added addToCart as a prop\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [signInError, setSignInError] = useState(\"\");\n  const [isHelpModalOpen, setHelpModalOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [userProfile, setUserProfile] = useState(null);\n  const [role, setRole] = useState('user');\n  const [showSignInForm, setShowSignInForm] = useState(false);\n  const [showSignUpForm, setShowSignUpForm] = useState(false);\n  useEffect(() => {\n    const checkAuthStatus = () => {\n      const user = localStorage.getItem('user');\n      setIsLoggedIn(!!user);\n      if (user) {\n        fetchUserProfile(user);\n      }\n    };\n    checkAuthStatus();\n  }, []);\n  const fetchUserProfile = async email => {\n    try {\n      const response = await fetch(`/api/profile?email=${email}`);\n      if (response.ok) {\n        const profileData = await response.json();\n        setUserProfile(profileData);\n        setRole(profileData.role);\n      }\n    } catch (error) {\n      console.error('Error fetching user profile:', error);\n    }\n  };\n  const handleAuthButtonClick = () => {\n    if (isLoggedIn) {\n      localStorage.removeItem('user');\n      setIsLoggedIn(false);\n      setUserProfile(null);\n      setRole('user');\n      alert(\"Logged out successfully\");\n    } else {\n      setShowSignInForm(true);\n    }\n  };\n  const handleSearchInputChange = e => {\n    setSearchTerm(e.target.value);\n  };\n  const handleSearch = async e => {\n    e.preventDefault();\n    if (searchTerm.trim() === \"\") return;\n    try {\n      const response = await fetch(`/api/search_items?q=${searchTerm}`);\n      const results = await response.json();\n      setSearchResults(results);\n    } catch (error) {\n      console.error(\"Error fetching search results:\", error);\n    }\n  };\n  const handleSignIn = async event => {\n    event.preventDefault();\n    const email = event.target.email.value;\n    const password = event.target.password.value;\n    try {\n      const response = await fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          email,\n          password\n        })\n      });\n      if (response.ok) {\n        const user = await response.json();\n        localStorage.setItem('user', user.email);\n        setIsLoggedIn(true);\n        fetchUserProfile(user.email);\n        alert(\"Sign In successful\");\n        setShowSignInForm(false);\n        setSignInError(\"\");\n      } else {\n        setSignInError(\"Invalid email or password. Please try again.\");\n      }\n    } catch (error) {\n      console.error('Error during sign-in:', error);\n      setSignInError(\"An error occurred. Please try again later.\");\n    }\n  };\n  const handleDeleteAccount = async () => {\n    const confirmDelete = window.confirm(\"Are you sure you want to delete your account? This action cannot be undone.\");\n    if (!confirmDelete) return;\n    try {\n      const response = await fetch('/api/users/delete', {\n        method: 'DELETE',\n        credentials: 'include'\n      });\n      if (response.ok) {\n        localStorage.removeItem('user');\n        setIsLoggedIn(false);\n        setUserProfile(null);\n        setRole('user');\n        alert(\"Sad to see you leave! Account deleted successfully.\");\n      } else {\n        const errorData = await response.json();\n        alert(`Error deleting account: ${errorData.error}`);\n      }\n    } catch (error) {\n      console.error('Error deleting account:', error);\n      alert(\"An error occurred while deleting the account. Please try again later.\");\n    }\n  };\n  const toggleHelpModal = () => {\n    setHelpModalOpen(!isHelpModalOpen);\n  };\n  const checkout = async () => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    const user_id = user ? user.id : null;\n    if (!user_id) {\n      alert(\"You need to be logged in to proceed to checkout.\");\n      return;\n    }\n    try {\n      const response = await fetch(`/api/cart/checkout/${user_id}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        }\n      });\n      if (response.ok) {\n        alert(\"Checkout successful!\");\n      } else {\n        const data = await response.json();\n        alert(data.message || \"Checkout failed.\");\n      }\n    } catch (error) {\n      console.error(\"Error during checkout:\", error);\n      alert(\"An error occurred during checkout. Please try again later.\");\n    }\n  };\n\n  // Define the viewCart function\n  const viewCart = () => {\n    // Logic for viewing the cart (you might want to navigate to a cart page)\n    alert(\"Viewing cart\");\n  };\n\n  // The addToCart function will be passed as a prop, \n  // so it should be defined in the parent component and used here.\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shopsphere-header\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shopsphere-header-left-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 11\n    }\n  }, \"SHOPSPHERE\")), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shopsphere-header-middle-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 177,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"form\", {\n    onSubmit: handleSearch,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"input\", {\n    className: \"search-bar\",\n    type: \"text\",\n    placeholder: \"Search\",\n    value: searchTerm,\n    onChange: handleSearchInputChange,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"search-button\",\n    type: \"submit\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"search-icon\",\n    src: searchIcon,\n    alt: \"Search Icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 181,\n      columnNumber: 15\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"shopsphere-header-right-section\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"a\", {\n    className: \"cart-link\",\n    href: \"#\",\n    onClick: viewCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    className: \"cart-icon\",\n    src: cartIcon,\n    alt: \"Cart Icon\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 13\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-quantity\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 189,\n      columnNumber: 13\n    }\n  }, cart.length), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"cart-text\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 13\n    }\n  }, \"Cart\")), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"signup-button\",\n    onClick: handleAuthButtonClick,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 11\n    }\n  }, isLoggedIn ? 'Log Out' : 'Sign In'), isLoggedIn && userProfile && /*#__PURE__*/React.createElement(\"div\", {\n    className: \"user-profile\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 15\n    }\n  }, \"Welcome, \", userProfile.name, \"!\")), isLoggedIn && role === 'admin' && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"admin-button\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 13\n    }\n  }, \"Admin Panel\"), isLoggedIn && /*#__PURE__*/React.createElement(\"button\", {\n    className: \"delete-account-button\",\n    onClick: handleDeleteAccount,\n    style: {\n      backgroundColor: 'red',\n      color: 'white'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 208,\n      columnNumber: 13\n    }\n  }, \"Delete Account\"), /*#__PURE__*/React.createElement(\"button\", {\n    className: \"help-button\",\n    onClick: toggleHelpModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 11\n    }\n  }, \"Help\"))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"search-results\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 219,\n      columnNumber: 7\n    }\n  }, searchResults.length > 0 ? /*#__PURE__*/React.createElement(\"ul\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 11\n    }\n  }, searchResults.map(item => /*#__PURE__*/React.createElement(\"li\", {\n    key: item.id,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 15\n    }\n  }, item.item_name, /*#__PURE__*/React.createElement(\"button\", {\n    onClick: () => addToCart(item.id, 1),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 225,\n      columnNumber: 17\n    }\n  }, \"Add to Cart\")))) : /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 11\n    }\n  }, \"No items match your search.\")), isHelpModalOpen && /*#__PURE__*/React.createElement(HelpModal, {\n    onClose: toggleHelpModal,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 234,\n      columnNumber: 27\n    }\n  }), \" \");\n};\nexport default Navbar;","map":{"version":3,"names":["React","useState","useEffect","searchIcon","cartIcon","HelpModal","Navbar","cart","addToCart","isLoggedIn","setIsLoggedIn","signInError","setSignInError","isHelpModalOpen","setHelpModalOpen","searchTerm","setSearchTerm","searchResults","setSearchResults","userProfile","setUserProfile","role","setRole","showSignInForm","setShowSignInForm","showSignUpForm","setShowSignUpForm","checkAuthStatus","user","localStorage","getItem","fetchUserProfile","email","response","fetch","ok","profileData","json","error","console","handleAuthButtonClick","removeItem","alert","handleSearchInputChange","e","target","value","handleSearch","preventDefault","trim","results","handleSignIn","event","password","method","headers","body","JSON","stringify","setItem","handleDeleteAccount","confirmDelete","window","confirm","credentials","errorData","toggleHelpModal","checkout","parse","user_id","id","data","message","viewCart","createElement","Fragment","className","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","type","placeholder","onChange","src","alt","href","onClick","length","name","style","backgroundColor","color","map","item","key","item_name","onClose"],"sources":["/home/philip-osir/Desktop/GroupThree_FrontandBack/Group-3-end-Phase_2-Project-/shopsphere_e_commerce_website/src/components/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\"; \nimport \"./Navbar.css\";\nimport searchIcon from \"./images/search-icon.png\";\nimport cartIcon from \"./images/cart-icon.png\";\nimport HelpModal from \"./HelpModal\";\n\nconst Navbar = ({ cart, addToCart }) => { // Added addToCart as a prop\n  const [isLoggedIn, setIsLoggedIn] = useState(false);\n  const [signInError, setSignInError] = useState(\"\");\n  const [isHelpModalOpen, setHelpModalOpen] = useState(false);\n  const [searchTerm, setSearchTerm] = useState('');\n  const [searchResults, setSearchResults] = useState([]);\n  const [userProfile, setUserProfile] = useState(null);\n  const [role, setRole] = useState('user');\n  const [showSignInForm, setShowSignInForm] = useState(false);\n  const [showSignUpForm, setShowSignUpForm] = useState(false);\n\n  useEffect(() => {\n    const checkAuthStatus = () => {\n      const user = localStorage.getItem('user');\n      setIsLoggedIn(!!user);\n      if (user) {\n        fetchUserProfile(user);\n      }\n    };\n    checkAuthStatus();\n  }, []);\n\n  const fetchUserProfile = async (email) => {\n    try {\n      const response = await fetch(`/api/profile?email=${email}`);\n      if (response.ok) {\n        const profileData = await response.json();\n        setUserProfile(profileData);\n        setRole(profileData.role);\n      }\n    } catch (error) {\n      console.error('Error fetching user profile:', error);\n    }\n  };\n\n  const handleAuthButtonClick = () => {\n    if (isLoggedIn) {\n      localStorage.removeItem('user');\n      setIsLoggedIn(false);\n      setUserProfile(null);\n      setRole('user');\n      alert(\"Logged out successfully\");\n    } else {\n      setShowSignInForm(true);\n    }\n  };\n\n  const handleSearchInputChange = (e) => {\n    setSearchTerm(e.target.value);\n  };\n\n  const handleSearch = async (e) => {\n    e.preventDefault();\n    if (searchTerm.trim() === \"\") return;\n\n    try {\n      const response = await fetch(`/api/search_items?q=${searchTerm}`);\n      const results = await response.json();\n      setSearchResults(results);\n    } catch (error) {\n      console.error(\"Error fetching search results:\", error);\n    }\n  };\n\n  const handleSignIn = async (event) => {\n    event.preventDefault();\n    const email = event.target.email.value;\n    const password = event.target.password.value;\n\n    try {\n      const response = await fetch('/api/login', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify({ email, password }),\n      });\n\n      if (response.ok) {\n        const user = await response.json();\n        localStorage.setItem('user', user.email);\n        setIsLoggedIn(true);\n        fetchUserProfile(user.email);\n        alert(\"Sign In successful\");\n        setShowSignInForm(false);\n        setSignInError(\"\");\n      } else {\n        setSignInError(\"Invalid email or password. Please try again.\");\n      }\n    } catch (error) {\n      console.error('Error during sign-in:', error);\n      setSignInError(\"An error occurred. Please try again later.\");\n    }\n  };\n\n  const handleDeleteAccount = async () => {\n    const confirmDelete = window.confirm(\"Are you sure you want to delete your account? This action cannot be undone.\");\n    if (!confirmDelete) return;\n\n    try {\n      const response = await fetch('/api/users/delete', {\n        method: 'DELETE',\n        credentials: 'include'\n      });\n\n      if (response.ok) {\n        localStorage.removeItem('user');\n        setIsLoggedIn(false);\n        setUserProfile(null);\n        setRole('user');\n        alert(\"Sad to see you leave! Account deleted successfully.\");\n      } else {\n        const errorData = await response.json();\n        alert(`Error deleting account: ${errorData.error}`);\n      }\n    } catch (error) {\n      console.error('Error deleting account:', error);\n      alert(\"An error occurred while deleting the account. Please try again later.\");\n    }\n  };\n\n  const toggleHelpModal = () => {\n    setHelpModalOpen(!isHelpModalOpen);\n  };\n\n  const checkout = async () => {\n    const user = JSON.parse(localStorage.getItem('user'));\n    const user_id = user ? user.id : null;\n\n    if (!user_id) {\n      alert(\"You need to be logged in to proceed to checkout.\");\n      return;\n    }\n\n    try {\n      const response = await fetch(`/api/cart/checkout/${user_id}`, {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n      });\n\n      if (response.ok) {\n        alert(\"Checkout successful!\");\n      } else {\n        const data = await response.json();\n        alert(data.message || \"Checkout failed.\");\n      }\n    } catch (error) {\n      console.error(\"Error during checkout:\", error);\n      alert(\"An error occurred during checkout. Please try again later.\");\n    }\n  };\n\n  // Define the viewCart function\n  const viewCart = () => {\n    // Logic for viewing the cart (you might want to navigate to a cart page)\n    alert(\"Viewing cart\");\n  };\n\n  // The addToCart function will be passed as a prop, \n  // so it should be defined in the parent component and used here.\n\n  return (\n    <>\n      <div className=\"shopsphere-header\">\n        <div className=\"shopsphere-header-left-section\">\n          <h2>SHOPSPHERE</h2>\n        </div>\n\n        <div className=\"shopsphere-header-middle-section\">\n          <form onSubmit={handleSearch}>\n            <input className=\"search-bar\" type=\"text\" placeholder=\"Search\" value={searchTerm} onChange={handleSearchInputChange} />\n            <button className=\"search-button\" type=\"submit\">\n              <img className=\"search-icon\" src={searchIcon} alt=\"Search Icon\" />\n            </button>\n          </form>\n        </div>\n\n        <div className=\"shopsphere-header-right-section\">\n          <a className=\"cart-link\" href=\"#\" onClick={viewCart}>\n            <img className=\"cart-icon\" src={cartIcon} alt=\"Cart Icon\" />\n            <div className=\"cart-quantity\">{cart.length}</div>\n            <div className=\"cart-text\">Cart</div>\n          </a>\n\n          <button className=\"signup-button\" onClick={handleAuthButtonClick}>\n            {isLoggedIn ? 'Log Out' : 'Sign In'}\n          </button>\n\n          {isLoggedIn && userProfile && (\n            <div className=\"user-profile\">\n              <span>Welcome, {userProfile.name}!</span>\n            </div>\n          )}\n\n          {isLoggedIn && role === 'admin' && (\n            <button className=\"admin-button\">Admin Panel</button>\n          )}\n\n          {isLoggedIn && (\n            <button className=\"delete-account-button\" onClick={handleDeleteAccount} style={{ backgroundColor: 'red', color: 'white' }}>\n              Delete Account\n            </button>\n          )}\n\n          <button className=\"help-button\" onClick={toggleHelpModal}>\n            Help\n          </button>\n        </div>\n      </div>\n\n      <div className=\"search-results\">\n        {searchResults.length > 0 ? (\n          <ul>\n            {searchResults.map(item => (\n              <li key={item.id}>\n                {item.item_name}\n                <button onClick={() => addToCart(item.id, 1)}>Add to Cart</button>\n              </li>\n            ))}\n          </ul>\n        ) : (\n          <p>No items match your search.</p>\n        )}\n      </div>\n\n      {isHelpModalOpen && <HelpModal onClose={toggleHelpModal} />} {/* Render HelpModal if open */}\n    </>\n  );\n};\n\nexport default Navbar;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}