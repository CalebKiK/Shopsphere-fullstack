{"ast":null,"code":"import React,{useState,useEffect}from'react';import'./ElectronicSection.css';// Modify\nconst ElectronicsSection=_ref=>{let{cart=[],onAddToCart,onRemoveFromCart}=_ref;const[electronicsData,setElectronicsData]=useState([]);// const [cart, setCart] = useState([]);\n// Modify\nuseEffect(()=>{fetch('/api/electronics').then(response=>response.json()).then(data=>setElectronicsData(data)).catch(error=>console.error('Error fetching data:',error));},[]);const handleCartClick=item=>{const itemInCart=cart.find(cartItem=>cartItem.id===item.id);if(itemInCart){onRemoveFromCart(itemInCart);// Pass the entire item object\n}else{onAddToCart(item);}};const formatPrice=price=>{return`ksh ${price.toLocaleString()}`;};// Modify\nreturn/*#__PURE__*/React.createElement(\"div\",{className:\"electronics-section\"},/*#__PURE__*/React.createElement(\"h2\",null,\"Electronics\"),/*#__PURE__*/React.createElement(\"div\",{className:\"electronics-grid\"},electronicsData.map(item=>/*#__PURE__*/React.createElement(\"div\",{key:item.id,className:\"electronic-card\"},/*#__PURE__*/React.createElement(\"div\",{className:\"image-placeholder\"},/*#__PURE__*/React.createElement(\"img\",{src:item.image_url,alt:item.item_name})),/*#__PURE__*/React.createElement(\"div\",{className:\"electronic-details\"},/*#__PURE__*/React.createElement(\"p\",{className:\"description\"},item.item_name),/*#__PURE__*/React.createElement(\"p\",{className:\"price\"},\"ksh \",item.price),/*#__PURE__*/React.createElement(\"div\",{className:\"items_available\"},/*#__PURE__*/React.createElement(\"p\",null,\"Items available: \",item.items_available)),/*#__PURE__*/React.createElement(\"button\",{className:\"add-to-cart\",onClick:()=>handleCartClick(item)},cart.includes(item.id)?\"Remove From Cart\":\"Add To Cart\"))))));};export default ElectronicsSection;","map":{"version":3,"names":["React","useState","useEffect","ElectronicsSection","_ref","cart","onAddToCart","onRemoveFromCart","electronicsData","setElectronicsData","fetch","then","response","json","data","catch","error","console","handleCartClick","item","itemInCart","find","cartItem","id","formatPrice","price","toLocaleString","createElement","className","map","key","src","image_url","alt","item_name","items_available","onClick","includes"],"sources":["/home/philip-osir/Desktop/GroupThree_FrontandBack/Group-3-end-Phase_2-Project-/shopsphere_e_commerce_website/src/ElectronicsSection.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport './ElectronicSection.css';\n\n// Modify\nconst ElectronicsSection = ({ cart=[], onAddToCart, onRemoveFromCart }) => {\n  const [electronicsData, setElectronicsData] = useState([]);\n  // const [cart, setCart] = useState([]);\n\n  // Modify\n  useEffect(() => {\n    fetch('/api/electronics')\n      .then(response => response.json())\n      .then(data => setElectronicsData(data))\n      .catch(error => console.error('Error fetching data:', error));\n  }, []);\n\n  const handleCartClick = (item) => {\n    const itemInCart = cart.find(cartItem => cartItem.id === item.id);\n    if (itemInCart) {\n      onRemoveFromCart(itemInCart); // Pass the entire item object\n    } else {\n      onAddToCart(item);\n    }\n  };\n  const formatPrice = (price) => {\n    return `ksh ${price.toLocaleString()}`;\n  };\n\n  // Modify\n  return (\n    <div className=\"electronics-section\">\n      <h2>Electronics</h2>\n      <div className=\"electronics-grid\">\n        {electronicsData.map(item => (\n          <div key={item.id} className=\"electronic-card\">\n            <div className=\"image-placeholder\">\n              <img src={item.image_url} alt={item.item_name} />\n            </div>\n            <div className=\"electronic-details\">\n              <p className=\"description\">{item.item_name}</p>\n              <p className=\"price\">ksh {item.price}</p>\n              <div className='items_available'><p>Items available: {item.items_available}</p></div>\n\n              <button className=\"add-to-cart\" onClick={() => handleCartClick(item)}>{cart.includes(item.id) ? \"Remove From Cart\" : \"Add To Cart\"}</button>\n            </div>\n          </div>\n        ))}\n      </div>\n      {/* <div className=\"cart\">\n        <h3>Cart</h3>\n        {cart.map(item => (\n          <div key={item.id} className=\"cart-item\">\n            <span>{item.description} - {item.price}</span>\n            <button className=\"remove-from-cart\" onClick={() => removeFromCart(item.id)}>Remove</button>\n          </div>\n        ))}\n      </div> */}\n    </div>\n  );\n};\n\nexport default ElectronicsSection;\n\n\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,yBAAyB,CAEhC;AACA,KAAM,CAAAC,kBAAkB,CAAGC,IAAA,EAAgD,IAA/C,CAAEC,IAAI,CAAC,EAAE,CAAEC,WAAW,CAAEC,gBAAiB,CAAC,CAAAH,IAAA,CACpE,KAAM,CAACI,eAAe,CAAEC,kBAAkB,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAC1D;AAEA;AACAC,SAAS,CAAC,IAAM,CACdQ,KAAK,CAAC,kBAAkB,CAAC,CACtBC,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,IAAI,CAAC,CAAC,CAAC,CACjCF,IAAI,CAACG,IAAI,EAAIL,kBAAkB,CAACK,IAAI,CAAC,CAAC,CACtCC,KAAK,CAACC,KAAK,EAAIC,OAAO,CAACD,KAAK,CAAC,sBAAsB,CAAEA,KAAK,CAAC,CAAC,CACjE,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAE,eAAe,CAAIC,IAAI,EAAK,CAChC,KAAM,CAAAC,UAAU,CAAGf,IAAI,CAACgB,IAAI,CAACC,QAAQ,EAAIA,QAAQ,CAACC,EAAE,GAAKJ,IAAI,CAACI,EAAE,CAAC,CACjE,GAAIH,UAAU,CAAE,CACdb,gBAAgB,CAACa,UAAU,CAAC,CAAE;AAChC,CAAC,IAAM,CACLd,WAAW,CAACa,IAAI,CAAC,CACnB,CACF,CAAC,CACD,KAAM,CAAAK,WAAW,CAAIC,KAAK,EAAK,CAC7B,MAAO,OAAOA,KAAK,CAACC,cAAc,CAAC,CAAC,EAAE,CACxC,CAAC,CAED;AACA,mBACE1B,KAAA,CAAA2B,aAAA,QAAKC,SAAS,CAAC,qBAAqB,eAClC5B,KAAA,CAAA2B,aAAA,WAAI,aAAe,CAAC,cACpB3B,KAAA,CAAA2B,aAAA,QAAKC,SAAS,CAAC,kBAAkB,EAC9BpB,eAAe,CAACqB,GAAG,CAACV,IAAI,eACvBnB,KAAA,CAAA2B,aAAA,QAAKG,GAAG,CAAEX,IAAI,CAACI,EAAG,CAACK,SAAS,CAAC,iBAAiB,eAC5C5B,KAAA,CAAA2B,aAAA,QAAKC,SAAS,CAAC,mBAAmB,eAChC5B,KAAA,CAAA2B,aAAA,QAAKI,GAAG,CAAEZ,IAAI,CAACa,SAAU,CAACC,GAAG,CAAEd,IAAI,CAACe,SAAU,CAAE,CAC7C,CAAC,cACNlC,KAAA,CAAA2B,aAAA,QAAKC,SAAS,CAAC,oBAAoB,eACjC5B,KAAA,CAAA2B,aAAA,MAAGC,SAAS,CAAC,aAAa,EAAET,IAAI,CAACe,SAAa,CAAC,cAC/ClC,KAAA,CAAA2B,aAAA,MAAGC,SAAS,CAAC,OAAO,EAAC,MAAI,CAACT,IAAI,CAACM,KAAS,CAAC,cACzCzB,KAAA,CAAA2B,aAAA,QAAKC,SAAS,CAAC,iBAAiB,eAAC5B,KAAA,CAAA2B,aAAA,UAAG,mBAAiB,CAACR,IAAI,CAACgB,eAAmB,CAAM,CAAC,cAErFnC,KAAA,CAAA2B,aAAA,WAAQC,SAAS,CAAC,aAAa,CAACQ,OAAO,CAAEA,CAAA,GAAMlB,eAAe,CAACC,IAAI,CAAE,EAAEd,IAAI,CAACgC,QAAQ,CAAClB,IAAI,CAACI,EAAE,CAAC,CAAG,kBAAkB,CAAG,aAAsB,CACxI,CACF,CACN,CACE,CAUF,CAAC,CAEV,CAAC,CAED,cAAe,CAAApB,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module"}